(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(47)},33:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),o=n.n(c),i=n(6),l=n(5),u=n(23),s={geographic:"mapbox://styles/ericrte/cjxyri6ya0x1s1cocb4py33do/draft",schematic:"mapbox://styles/ericrte/cjzoiwq1p2p6y1co14y4rd1kl/draft"},d=[{id:"dial_a_ride",mapboxLayers:["dial_a_ride"],name:"Dial-a-Ride",selected:!0},{id:"fixed_route",mapboxLayers:["kiryas-joel-routes-2orsdt","kiryas-joel-stops-2uc4i2","middletown-stops-diobrx","middletown-routes-b1slb4","newburgh-stops-3vbziu","newburgh-routes-1k2y17"],name:"Fixed Route",selected:!0},{id:"park_and_ride",mapboxLayers:[],name:"Park and Ride",selected:!0}],m=[{name:"Newburgh",center:[-74.022,41.515],zoom:[11.5]},{name:"Port Jervis",center:[-74.679,41.369],zoom:[12.5]}],b=function(e,t){return{type:"TOGGLE_LAYER",layer:e,selected:t}},p=Object(i.b)({layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LAYER":return e.map(function(e){return e.id===t.layer?Object(u.a)({},e,{selected:t.selected}):e});default:return e}}}),f=(n(33),n(7)),h=n(17);n(42);function y(e){var t=Object(l.c)(function(e){return e.layers}),n=Object(l.b)();return r.a.createElement("div",{className:"LayerSelector"},r.a.createElement("ul",null,t.map(function(e){var t=e.id,a=e.name,c=e.selected;return r.a.createElement("li",{key:t},r.a.createElement("label",{htmlFor:"check-".concat(t)},r.a.createElement("input",{id:"check-".concat(t),type:"checkbox",checked:c,onChange:function(){return n(b(t,!c))}}),a))})))}var v=n(22);n(43);function w(e){var t=e.onChange,n=e.towns;return r.a.createElement("div",{className:"TownSelector"},r.a.createElement(v.a,{onChange:function(e){return t(e.value)},options:n.map(function(e){return{label:e,value:e}}),placeholder:"Select a town"}))}var E=Object(h.b)({accessToken:"pk.eyJ1IjoiZXJpY3J0ZSIsImEiOiJjanh5cmhvMTQwMnRuM21xczVrczlxMjN2In0.-b1kRpcWg52iFTcPFferTw"});function j(e){var t=Object(a.useState)([-74.3389,41.386]),n=Object(f.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(10),u=Object(f.a)(i,2),d=u[0],b=u[1],p=Object(a.useState)(null),v=Object(f.a)(p,2),j=v[0],g=v[1],k=Object(a.useState)([10]),O=Object(f.a)(k,2),x=O[0],L=O[1],S=Object(l.c)(function(e){return e.layers});return j&&S&&function(e,t){t.forEach(function(t){var n=t.mapboxLayers,a=t.selected;n.forEach(function(t){e.getLayer(t)&&e.setLayoutProperty(t,"visibility",a?"visible":"none")})})}(j,S),r.a.createElement(E,{style:d<=11?s.schematic:s.geographic,center:c,containerStyle:{height:"100vh",width:"100vw"},onStyleLoad:g,onZoomEnd:function(e){return b(e.getZoom())},zoom:x},r.a.createElement(h.a,null),r.a.createElement(w,{onChange:function(e){var t=m.filter(function(t){return t.name===e})[0],n=t.center,a=t.zoom;o(n),L(a)},towns:m.map(function(e){return e.name})}),r.a.createElement(y,null))}n(46);var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=Object(i.c)(p);o.a.render(r.a.createElement(l.a,{store:k},r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.9c0e1469.chunk.js.map