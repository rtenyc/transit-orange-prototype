(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(60)},44:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),i=n(12),u=n(8),l=n(13),s={geographic:"mapbox://styles/ericrte/ck1aunacn4u1o1cnmb6wm3lrj/draft"},m=[{id:"dial_a_ride",mapboxLayers:["dial-a-bus-geographic","dial-a-bus-diagram"],name:"Dial-a-Ride",selected:!0},{id:"fixed_route",mapboxLayers:["fixed-routes-diagram","fixed-routes-geographic"],name:"Fixed Route",selected:!0},{id:"park_and_ride",mapboxLayers:[],name:"Park and Ride",selected:!1}],f=[{name:"Newburgh",center:[-74.022,41.515],zoom:[11.5]},{name:"Port Jervis",center:[-74.679,41.369],zoom:[12.5]}],d=function(e){return{type:"SET_DAY_OF_WEEK",value:e}},p=function(e){return{type:"SET_TIME_OF_DAY",value:e}},y=function(e,t){return{type:"TOGGLE_LAYER",layer:e,selected:t}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v={dayOfWeek:"Monday",timeOfDay:"1200"},E=Object(i.b)({layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LAYER":return e.map(function(e){return e.id===t.layer?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{selected:t.selected}):e});default:return e}},time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DAY_OF_WEEK":return h({},e,{dayOfWeek:t.value});case"SET_TIME_OF_DAY":return h({},e,{timeOfDay:t.value});default:return e}}}),g=(n(44),n(17)),j=n(27);n(53);function w(e){var t=Object(u.c)(function(e){return e.layers}),n=Object(u.b)();return a.a.createElement("div",{className:"LayerSelector"},a.a.createElement("ul",null,t.map(function(e){var t=e.id,r=e.name,c=e.selected;return a.a.createElement("li",{key:t},a.a.createElement("label",{htmlFor:"check-".concat(t)},a.a.createElement("input",{id:"check-".concat(t),type:"checkbox",checked:c,onChange:function(){return n(y(t,!c))}}),r))})))}var x=n(15),S=n(33),k=n(26),P=n.n(k);n(55);function _(e){var t=Object(u.c)(function(e){return e.time}),n=t.dayOfWeek,r=t.timeOfDay,c=Object(u.b)(),o=function(e){return{label:e,value:e}},i=Math.floor(parseInt(r)/100)+parseInt(r)%100/60;return a.a.createElement("div",{className:"TimeSelector"},a.a.createElement("div",null,"Show services available:"),a.a.createElement("div",{className:"TimeSelector-inputs"},a.a.createElement(x.a,{className:"day-of-week",defaultValue:o(n),isSearchable:!1,menuPlacement:"auto",onChange:function(e){return c(d(e.value))},options:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(o)}),a.a.createElement("div",{className:"time-of-day"},a.a.createElement("div",null,"At ",function(e){var t;return 0===e&&(t="midnight"),12===e&&(t="noon"),P()().hours(Math.floor(e)).minutes(e%1?e%1*60:0).format("h:mm a")+(t?" (".concat(t,")"):"")}(i)),a.a.createElement(S.a,{axis:"x",xmin:0,xmax:24,xstep:.25,onChange:function(e){var t=e.x,n=P()().hours(Math.floor(t)).minutes(t%1?t%1*60:0);c(p(n.format("HHmm")))},x:i}))))}n(58);function D(e){var t=e.onChange,n=e.towns;return a.a.createElement("div",{className:"TownSelector"},a.a.createElement(x.a,{onChange:function(e){return t(e.value)},options:n.map(function(e){return{label:e,value:e}}),placeholder:"Select a town"}))}var T=Object(j.b)({accessToken:"pk.eyJ1IjoiZXJpY3J0ZSIsImEiOiJjanh5cmhvMTQwMnRuM21xczVrczlxMjN2In0.-b1kRpcWg52iFTcPFferTw"});function L(e){var t=Object(r.useState)([-74.3389,41.386]),n=Object(g.a)(t,2),c=n[0],o=n[1],i=Object(r.useState)(null),l=Object(g.a)(i,2),m=l[0],d=l[1],p=Object(r.useState)([10]),y=Object(g.a)(p,2),b=y[0],O=y[1],h=Object(u.c)(function(e){return e.layers}),v=Object(u.c)(function(e){return e.time}),E=v.dayOfWeek,x=v.timeOfDay;return m&&h&&function(e,t){t.forEach(function(t){var n=t.mapboxLayers,r=t.selected;n.forEach(function(t){e.getLayer(t)&&e.setLayoutProperty(t,"visibility",r?"visible":"none")})})}(m,h),m&&h&&E&&x&&function(e,t,n,r){t.forEach(function(t){t.mapboxLayers.forEach(function(t){if(e.getLayer(t)){var a=n.replace("day","").toLowerCase(),c=["all",["<=","".concat(a,"_min"),r],[">=","".concat(a,"_max"),r]];e.setFilter(t,c)}})})}(m,h,E,x),a.a.createElement(T,{style:s.geographic,center:c,containerStyle:{height:"100vh",width:"100vw"},onStyleLoad:d,zoom:b},a.a.createElement(j.a,null),a.a.createElement(D,{onChange:function(e){var t=f.filter(function(t){return t.name===e})[0],n=t.center,r=t.zoom;o(n),O(r)},towns:f.map(function(e){return e.name})}),a.a.createElement(w,null),a.a.createElement(_,null))}n(59);var M=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=Object(i.c)(E);o.a.render(a.a.createElement(u.a,{store:F},a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.311a63cf.chunk.js.map